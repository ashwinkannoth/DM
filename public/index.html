<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Dungeon Master Assistant</title>
    <link rel="stylesheet" href="/styles.css">
  </head>
  <body>
    <div class="container">
      <div class="app-layout">
        <main class="main-content">
          <h1>Dungeon Master Assistant</h1>
          <div class="hero">
            <div class="pill">Ambient orchestration · Instant reactivity</div>
            <p class="lead">Drop your favorite tracks into `music/`, then let the Assistant paint each scene with cinematic beds and reactive effects. No cloud, no lag—just local control at the tabletop.</p>
          </div>
          <p class="description">Cue a theme for travel or combat, sprinkle in impact sounds, and adjust volume without breaking the flow. The initiative tracker keeps everyone's turn order and HP visible while music swells with each move.</p>

          <section id="controlsTop" class="chooser">
            <div style="display:flex; align-items:center; gap:0.6rem;">
              <div style="font-weight:600; color:var(--accent);">Browse local audio</div>
            </div>
          </section>
          <section class="player">
            <div class="playerRow">
              <audio id="player" preload="metadata"></audio>
              <div class="controls">
                <button id="playPause">Play</button>
                <label class="vol">Volume <input id="vol" type="range" min="0" max="1" step="0.01" value="1"></label>
              </div>
            </div>
            <div id="nowPlaying" class="nowPlaying"></div>
          </section>

          <section class="tracks">
            <div class="folderGrid">
              <div class="folder">
                <h3>Themes</h3>
                <ul id="themesList" class="trackGroup"></ul>
              </div>

              <div class="folder">
                <h3>Effects</h3>
                <ul id="effectsList" class="trackGroup"></ul>
              </div>
            </div>
          </section>

          <section class="initiative" aria-label="Initiative Tracker">
            <div class="initiative-header">
              <div>
                <p class="eyebrow">Sound Console</p>
                <h2>Initiative Tracker</h2>
                <p class="init-desc">Add heroes or foes, then drag to reorder when the battle shifts.</p>
              </div>
              <div class="init-actions">
                <input id="initName" type="text" placeholder="Name a hero or monster" autocomplete="off" />
                <label class="init-hp-label">
                  HP
                  <input id="initHP" type="number" min="0" value="10" />
                </label>
                <div class="init-add-buttons">
                  <button id="initHero" type="button">Add Hero</button>
                  <button id="initMonster" type="button">Add Monster</button>
                </div>
                <button id="initClear" type="button" class="ghost">Clear</button>
              </div>
            </div>
            <ul id="initList" class="init-list" aria-live="polite"></ul>
          </section>
        </main>

        <aside class="dice-panel">
          <div class="dice-header">
            <h2>Dice Roller</h2>
            <p>Tap a die to spin up a quick roll. Results appear instantly, with a spark line shimmer as it “rolls”.</p>
          </div>
          <div class="dice-roller-card">
            <div class="dice-roll-visual" id="diceVisual">
              <div class="dice-spark" id="diceSpark"></div>
              <div class="dice-visual-value" id="diceVisualValue">—</div>
            </div>
            <div class="dice-controls">
              <div class="dice-buttons">
                <button type="button" data-die="d4">Roll D4</button>
                <button type="button" data-die="d6">Roll D6</button>
                <button type="button" data-die="d8">Roll D8</button>
                <button type="button" data-die="d10">Roll D10</button>
                <button type="button" data-die="d12">Roll D12</button>
                <button type="button" data-die="d20">Roll D20</button>
                <button type="button" data-die="d100">Roll D100</button>
              </div>
              <div id="diceResult" class="dice-result">Result: —</div>
            </div>
          </div>
        </aside>
      </div>
    </div>

    <script src="/app.js" defer></script>
    <script src="/dice-roller.js" defer></script>
  </body>
</html>
