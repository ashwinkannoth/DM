:root{
  --bg:#0b1220;
  --card:#111b2e;
  --text:#f6fbff;
  --accent:#6ad4c3;
  --muted:#b2c6d5;
}
body{
  font-family: 'Inter', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
  background: radial-gradient(1100px 600px at 15% 15%, rgba(36,146,255,0.15), transparent), radial-gradient(900px 500px at 80% 85%, rgba(99,255,193,0.1), transparent), linear-gradient(180deg,#05070f 0%,#0f1728 70%,#0b1220 100%);
  color:var(--text);
  margin:0;
  padding:48px 24px;
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:flex-start;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}
.container{
  width:min(1280px, 100%);
  max-width:100%;
  margin:0 auto 40px;
  padding:32px 36px 36px;
  border-radius:18px;
  border:1px solid rgba(255,255,255,0.08);
  background: linear-gradient(135deg, rgba(255,255,255,0.04), rgba(255,255,255,0.01));
  box-shadow: 0 30px 80px rgba(10,14,28,0.75), inset 0 1px 1px rgba(255,255,255,0.06);
}
.app-layout{
  width:100%;
  display:flex;
  gap:32px;
  align-items:flex-start;
}
.main-content{
  flex:1;
}
.dice-panel{
  width:min(360px, 100%);
  background: var(--bg);
  border-radius:18px;
  border:1px solid rgba(255,255,255,0.08);
  padding:18px;
  box-shadow: 0 20px 55px rgba(2,6,18,0.6);
  display:flex;
  flex-direction:column;
  gap:1rem;
}
h1{
  margin:0;
  font-size:2rem;
  text-align:center;
  letter-spacing:0.02em;
}
.hero{
  text-align:center;
  margin:12px 0 26px;
}
.hero .lead{
  font-size:1.05rem;
  color:var(--muted);
  margin:0 auto 12px;
  max-width:640px;
}
.hero .pill{
  display:inline-flex;
  align-items:center;
  gap:0.4rem;
  background: rgba(255,255,255,0.05);
  border:1px solid rgba(255,255,255,0.08);
  padding:0.35rem 0.95rem;
  border-radius:999px;
  font-size:0.85rem;
  color:var(--accent);
}
.hero-foot{ text-align:center; margin:12px 0 8px; }
.hero-link{ color:var(--accent); font-weight:700; text-decoration:none; }
#player{ display:block; height:48px; width:100%; }
.player{ margin-bottom:1.4rem; }
.playerRow{ display:flex; gap:0.8rem; align-items:center; flex-wrap:wrap; justify-content:center; }
.controls{ display:flex; gap:0.8rem; align-items:center; flex-wrap:wrap; justify-content:center; }
.controls button{
  background: linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02));
  border:1px solid rgba(255,255,255,0.08);
  padding:0.45rem 0.8rem;
  border-radius:999px;
  color:var(--text);
  font-weight:700;
  box-shadow: 0 12px 30px rgba(4,8,18,0.45);
  font-size:0.95rem;
}
.controls .vol input{ vertical-align:middle; }
.tracks{ display:block; gap:20px; padding:8px 0 0; }
.description{ margin:0 0 20px; text-align:center; color:var(--muted); font-size:0.95rem; }
.folderGrid{ display:flex; gap:1rem; align-items:flex-start; }
.folder{ flex:1; }
.folder h3{
  margin:0 0 0.4rem;
  font-size:1.1rem;
  color:var(--accent);
  letter-spacing:0.01em;
  text-align:center;
}
.folderGrid .folder{
  background: var(--card);
  padding:16px;
  border-radius:16px;
  border:1px solid rgba(255,255,255,0.04);
  box-shadow: 0 20px 50px rgba(2,6,14,0.7);
  min-height:240px;
  display:flex;
  flex-direction:column;
  justify-content:space-between;
}
.trackGroup{ list-style:none; padding:0; margin:0; display:flex; flex-direction:column; gap:0.35rem; }
.trackItem{ width:100%; }
	.trackItem button{
	  width:100%;
	  text-align:center;
	  padding:0.55rem 0.7rem;
	  border-radius:12px;
	  border:1px solid rgba(255,255,255,0.08);
	  background: linear-gradient(180deg, rgba(255,255,255,0.015), rgba(255,255,255,0.005));
	  color:var(--text);
	  cursor:pointer;
	  font-size:0.95rem;
	  transition: transform .15s ease, box-shadow .15s ease, border-color .15s ease;
	}
.trackItem button:hover{
  transform: translateY(-3px);
  box-shadow: 0 18px 45px rgba(1,3,14,0.6);
  border-color: rgba(255,255,255,0.2);
}
.trackItem.current button{
  background: linear-gradient(90deg, rgba(106,212,195,0.25), rgba(48,133,172,0.2));
  border-color: rgba(106,212,195,0.6);
  font-weight:700;
  box-shadow: 0 20px 60px rgba(70,199,185,0.18);
}
.trackItem.playing-effect button{
  outline: 2px dashed rgba(106,212,195,0.45);
  transform: translateY(-2px) scale(1.01);
}
.empty, .error{ color: #d1dbe6; font-style:italic; padding:0.6rem; }
.nowPlaying{
  margin-top:0.5rem;
  color:#9ef3e3;
  font-size:0.92rem;
  text-align:center;
}
.folderGrid .trackGroup .empty{ padding: 0.6rem; color: #d0dbe2; }

.dice-header h2{
  margin:0;
  font-size:1.2rem;
  text-align:center;
}
.dice-header p{
  margin:0;
  font-size:0.9rem;
  color:var(--muted);
  text-align:center;
}
.dice-canvas-wrapper{
  position:relative;
  border-radius:14px;
  overflow:hidden;
  border:1px solid rgba(255,255,255,0.08);
  background: rgba(0,0,0,0.45);
  min-height:260px;
}
#diceCanvas{
  width:100%;
  height:260px;
  display:block;
}
.dice-overlay{
  position:absolute;
  inset:0;
  display:flex;
  align-items:flex-end;
  justify-content:center;
  padding-bottom:12px;
  font-weight:600;
  color:rgba(255,255,255,0.85);
  pointer-events:none;
  text-transform:uppercase;
  letter-spacing:0.12em;
}
.dice-roll-visual{
  height:140px;
  border-radius:16px;
  border:1px solid rgba(255,255,255,0.08);
  background: linear-gradient(160deg, rgba(255,255,255,0.05), rgba(255,255,255,0.01));
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:1.3rem;
  letter-spacing:0.3em;
  text-transform:uppercase;
  position:relative;
  overflow:hidden;
}
.dice-roll-visual::after{
  content:'';
  position:absolute;
  inset:0;
  background: linear-gradient(120deg, rgba(255,255,255,0.05), rgba(255,255,255,0));
  opacity:0;
  transition:opacity 0.4s ease;
}
.dice-roll-visual.rolling::after{
  opacity:1;
  animation: shimmer 1s linear infinite;
}
.dice-roll-visual span{
  z-index:1;
}
.dice-controls{
  display:flex;
  flex-direction:column;
  gap:0.6rem;
}
.dice-buttons{
  display:flex;
  flex-wrap:wrap;
  gap:0.4rem;
  justify-content:center;
}
.dice-buttons button{
  flex:1;
  min-width:100px;
  padding:0.6rem 0.9rem;
  border-radius:12px;
  border:1px solid rgba(255,255,255,0.18);
  background: linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.01));
  color:var(--text);
  font-weight:600;
  cursor:pointer;
  transition: transform .15s ease, border-color .15s ease;
}
.dice-buttons button:hover{
  transform: translateY(-2px);
  border-color: rgba(255,255,255,0.4);
}
.dice-roll-visual.rolling::after{
  animation: shimmer 1s linear infinite;
}

@keyframes shimmer {
  0% { transform: translateX(-100%); }
  100% { transform: translateX(100%); }
}

.initiative{
  margin-top:22px;
  border:1px solid rgba(255,255,255,0.08);
  border-radius:16px;
  background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
  padding:16px;
  box-shadow: 0 18px 50px rgba(1,5,15,0.6);
}
.initiative-header{
  display:flex;
  align-items:flex-end;
  justify-content:space-between;
  gap:1rem;
  flex-wrap:wrap;
}
.initiative h2{
  margin:0;
  font-size:1.3rem;
  letter-spacing:0.01em;
}
.initiative .eyebrow{
  margin:0;
  font-size:0.85rem;
  color:var(--accent);
  letter-spacing:0.08em;
  text-transform:uppercase;
}
.initiative .init-desc{
  margin:4px 0 0;
  color:var(--muted);
  font-size:0.95rem;
}
.init-actions{
  display:flex;
  gap:0.6rem;
  flex-wrap:wrap;
  justify-content:flex-end;
}
.init-panel{
  display:flex;
  gap:0.8rem;
}
.init-label{
  display:flex;
  flex-direction:column;
  font-size:0.75rem;
  letter-spacing:0.08em;
  color:var(--muted);
  text-transform:uppercase;
  font-weight:600;
  gap:0.25rem;
}
.monster-ac-display{
  min-width:120px;
  background: rgba(255,255,255,0.03);
  border-radius:10px;
  padding:0.35rem 0.6rem;
  border:1px solid rgba(255,255,255,0.08);
}
.init-actions input{
  background: rgba(255,255,255,0.06);
  border:1px solid rgba(255,255,255,0.12);
  color:var(--text);
  padding:0.55rem 0.75rem;
  border-radius:12px;
  min-width:220px;
}
.monster-suggestions{
  width:100%;
  list-style:none;
  margin:0;
  padding:0.25rem 0.4rem;
  max-height:160px;
  overflow:auto;
  border:1px solid rgba(255,255,255,0.08);
  border-radius:10px;
  background: rgba(255,255,255,0.02);
  display:none;
  flex-direction:column;
  gap:0.2rem;
}
.monster-suggestions li{
  padding:0.35rem 0.5rem;
  border-radius:8px;
  cursor:pointer;
  font-size:0.9rem;
}
.monster-suggestions li:hover{
  background: rgba(255,255,255,0.05);
}
.init-hp-label{
  display:flex;
  align-items:center;
  gap:0.35rem;
  font-weight:600;
  color:var(--muted);
}
.init-hp-label input{
  margin-left:0.4rem;
  width:90px;
  border-radius:10px;
  padding:0.35rem 0.6rem;
}
.init-actions button{
  background: linear-gradient(180deg, rgba(255,255,255,0.05), rgba(255,255,255,0.02));
  border:1px solid rgba(255,255,255,0.12);
  color:var(--text);
  padding:0.55rem 0.9rem;
  border-radius:12px;
  cursor:pointer;
  font-weight:700;
}
.init-actions button.ghost{
  background: transparent;
  border-color: rgba(255,255,255,0.08);
  color: var(--muted);
}
.init-add-buttons{
  display:flex;
  gap:0.4rem;
  flex-wrap:wrap;
  justify-content:flex-end;
}
.init-list{
  list-style:none;
  margin:14px 0 0;
  padding:0;
  display:flex;
  flex-direction:column;
  gap:0.6rem;
}
.init-item{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:0.8rem;
  padding:0.65rem 0.9rem;
  border-radius:12px;
  border:1px solid rgba(255,255,255,0.08);
  background: linear-gradient(90deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));
  cursor:grab;
}
.init-item.dragging{
  opacity:0.6;
  border-color: rgba(255,255,255,0.25);
}
.init-item .init-main{
  display:flex;
  align-items:center;
  justify-content:space-between;
  width:100%;
  gap:0.8rem;
}
.init-title{
  display:flex;
  align-items:center;
  gap:0.4rem;
  flex-wrap:wrap;
}
.init-ac-badge{
  font-size:0.85rem;
  color:var(--muted);
  border-radius:999px;
  border:1px solid rgba(255,255,255,0.08);
  padding:0.15rem 0.65rem;
}
.init-name{ font-weight:600; color:var(--text); }
.init-type{
  font-size:0.85rem;
  color:var(--muted);
  letter-spacing:0.08em;
  text-transform:uppercase;
}
.init-hp-display{
  font-weight:600;
  color:var(--text);
}
.hp-controls{
  display:flex;
  align-items:center;
  gap:0.35rem;
}
.hp-btn{
  width:34px;
  height:34px;
  border-radius:10px;
  border:1px solid rgba(255,255,255,0.2);
  background: rgba(255,255,255,0.06);
  color:var(--text);
  font-weight:700;
  cursor:pointer;
  box-shadow: 0 8px 22px rgba(1,5,12,0.35);
}
.init-meta{
  display:flex;
  align-items:center;
  gap:0.6rem;
}
.init-hp-label-inline{
  display:flex;
  align-items:center;
  gap:0.35rem;
  font-weight:600;
  color:var(--muted);
  font-size:0.95rem;
}
.init-hp{
  border:1px solid rgba(255,255,255,0.3);
  border-radius:10px;
  padding:0.35rem 0.55rem;
  width:80px;
  height:38px;
  background: rgba(255,255,255,0.07);
  color:inherit;
  font-size:1rem;
}
.init-hp::-webkit-inner-spin-button,
.init-hp::-webkit-outer-spin-button{
  transform: scale(1.2);
}
.init-remove{
  background: transparent;
  border:1px solid rgba(255,255,255,0.15);
  color:var(--text);
  border-radius:50%;
  width:30px; height:30px;
  cursor:pointer;
}
.init-item[data-type="hero"] .init-name,
.init-item[data-type="hero"] .init-hp,
.init-item[data-type="hero"] .init-hp-display{
  color:#f8ce74;
}
.init-item[data-type="monster"] .init-name,
.init-item[data-type="monster"] .init-hp,
.init-item[data-type="monster"] .init-hp-display{
  color:#f65852;
}

@media (max-width: 960px){
  .container{ padding:24px; }
  .folderGrid{ flex-direction:column; }
}

@media (max-width: 560px){
  body{ padding:24px 10px; }
  .controls{ flex-direction:column; }
  .playerRow{ flex-direction:column; }
}
